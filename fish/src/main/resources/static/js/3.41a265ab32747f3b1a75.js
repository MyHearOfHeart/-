webpackJsonp([3],{"7fmA":function(t,e){},"8HC2":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mtWM"),i={name:"charge",inject:["user"],data:function(){return{rules:{oldpass:[{required:!0,message:"密码不能为空",trigger:"blur"}],newpass:[{required:!0,message:"密码不能为空",trigger:"blur"}]},checked:!0,passForm:{oldpass:"",newpass:""},loading:!1}},methods:{change:function(){var t=this;s({method:"post",url:"/index?action=change",data:{uid:this.user.uid,oldpass:this.passForm.oldpass,newpass:this.passForm.newpass},header:{"Content-Type":"application/json"}}).then(function(e){!1===e.data.result?t.$alert("更改失败！请检查是否输入错误！","提示",{confirmButtonText:"确定"}):t.$alert("更改成功","提示",{confirmButtonText:"确定"})}).catch(function(t){})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"change-container",attrs:{model:t.passForm,rules:t.rules,"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"change_title"},[t._v("修改密码")]),t._v(" "),a("el-form-item",{attrs:{prop:"oldpass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"旧密码"},model:{value:t.passForm.oldpass,callback:function(e){t.$set(t.passForm,"oldpass",e)},expression:"passForm.oldpass"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"newpass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"新密码"},model:{value:t.passForm.newpass,callback:function(e){t.$set(t.passForm,"newpass",e)},expression:"passForm.newpass"}})],1),t._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"40%",background:"#505458",border:"none"},attrs:{type:"primary"},on:{click:t.change}},[t._v("更改")])],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(t){a("7fmA")},"data-v-63d70a2d",null).exports,o=a("mtWM"),l={name:"upfile",inject:["user"],data:function(){return{fileList:[],fileName:"",files:""}},methods:{beforeUpload:function(t){return console.log(t.name,"文件"),this.fileList.unshift(t),this.files=t,this.fileName=t.name,!1},submitUpload:function(){var t=this;if(""!=this.fileName){var e=new FormData;e.append("file",this.files,this.fileName),o({method:"post",url:"/upfile?uid="+this.user.uid,data:e,header:{"Content-Type":"multipart/form-data"}}).then(function(e){!0===e.data.result?t.$alert("上传成功","提示",{confirmButtonText:"确定"}):t.$alert("上传失败","提示",{confirmButtonText:"确定"})}).catch(function(t){})}else this.$message.warning("请选择要上传的文件！")}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upfile"},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#",accept:"video/*",limit:1,"file-list":t.fileList,"before-upload":t.beforeUpload}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传mp4文件")])],1),t._v(" "),a("br"),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitUpload()}}},[t._v("上传")])],1)},staticRenderFns:[]};var u={props:["user"],components:{upfile:a("VU/8")(l,p,!1,function(t){a("p98k")},"data-v-ac1bd3ec",null).exports,charge:r},data:function(){return{tabPosition:"left"}},methods:{}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-tabs",{staticStyle:{height:"600px"},attrs:{"tab-position":this.tabPosition}},[e("el-tab-pane",{attrs:{label:"用户管理"}},[e("charge")],1),this._v(" "),e("el-tab-pane",{attrs:{label:"上传视频"}},[e("upfile")],1)],1)},staticRenderFns:[]},d=a("VU/8")(u,c,!1,null,null,null);e.default=d.exports},p98k:function(t,e){}});
//# sourceMappingURL=3.41a265ab32747f3b1a75.js.map